<section class="summary-grid" th:fragment="summary">
    <div class="card">
        <h3>Samples &amp; Errors</h3>
        <div class="card-row">
            <span class="card-label muted">HTTP:</span>
            <span class="card-value" th:text="${view.summary.httpSamples}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">WS:</span>
            <span class="card-value" th:text="${view.summary.wsSamples}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Errors:</span>
            <span class="card-value" th:text="${view.summary.errorCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Uptime:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.uptimePercent, 1, 1)}">0</span><span class="card-unit muted">%</span></span>
        </div>
    </div>
    <div class="card anomalies-card">
        <h3>Anomalies</h3>
        <div class="card-row">
            <span class="card-label muted">Delay:</span>
            <span class="card-value" th:text="${view.summary.delayCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Reorg:</span>
            <span class="card-value" th:text="${view.summary.reorgCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Timeout:</span>
            <span class="card-value" th:text="${view.summary.timeoutCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Rate Limit:</span>
            <span class="card-value" th:text="${view.summary.rateLimitCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Block Gap:</span>
            <span class="card-value" th:text="${view.summary.blockGapCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Wrong Head:</span>
            <span class="card-value" th:text="${view.summary.wrongHeadCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Conflict:</span>
            <span class="card-value" th:text="${view.summary.conflictCount}">0</span>
        </div>
        <div class="card-row">
            <span class="card-label muted">Stale:</span>
            <span class="card-value" th:text="${view.summary.staleBlockCount}">0</span>
        </div>
    </div>
    <div class="card metric-card">
        <h3>Network Latency</h3>
        <div class="card-row">
            <span class="card-label muted">Avg:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.avgLatencyMs, 1, 2)}">0</span><span class="card-unit muted">ms</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P95:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p95LatencyMs, 1, 2)}">0</span><span class="card-unit muted">ms</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P99:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p99LatencyMs, 1, 2)}">0</span><span class="card-unit muted">ms</span></span>
        </div>
    </div>
    <div class="card metric-card" th:if="${view.wsConfigured}">
        <h3>New Blocks</h3>
        <div class="card-row">
            <span class="card-label muted">Avg:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.avgNewBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P95:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p95NewBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P99:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p99NewBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
    </div>
    <div class="card metric-card" th:if="${view.safeBlocksEnabled}">
        <h3>Safe Blocks</h3>
        <div class="card-row">
            <span class="card-label muted">Avg:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.avgSafeBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P95:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p95SafeBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P99:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p99SafeBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
    </div>
    <div class="card metric-card" th:if="${view.finalizedBlocksEnabled}">
        <h3>Finalized Blocks</h3>
        <div class="card-row">
            <span class="card-label muted">Avg:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.avgFinalizedBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P95:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p95FinalizedBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
        <div class="card-row">
            <span class="card-label muted">P99:</span>
            <span class="card-value"><span th:text="${#numbers.formatDecimal(view.summary.p99FinalizedBlockPropagationMs / 1000, 1, 2)}">0</span><span class="card-unit muted">s</span></span>
        </div>
    </div>
</section>
