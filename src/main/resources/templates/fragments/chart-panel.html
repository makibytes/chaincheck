<section class="panel" th:fragment="chartPanel">
    <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px;">
        <h2 style="margin: 0;">Network Latency &amp; Block Propagation</h2>
        <div style="display: flex; align-items: center; gap: 12px;">
            <label id="toggleBoundsLabel" style="display: flex; align-items: center; gap: 6px; font-size: 0.85rem;" th:if="${view.hasAggregatedLatencies || view.hasAggregatedDelays}">
                <input type="checkbox" id="toggleBounds" />
                <span>Upper/lower bounds</span>
            </label>
            <label id="referenceToggleLabel" style="display: flex; align-items: center; gap: 6px; font-size: 0.85rem;" th:if="${referenceNodeKey != null && !view.referenceNode}">
                <input type="checkbox" id="toggleReferenceLines" />
                <span>Reference Node</span>
            </label>
        </div>
    </div>
    <div class="chart-wrapper" id="latencyChartWrapper" th:attr="data-range=${range.key},data-end=${endEpochMs}">
        <canvas id="latencyChart" height="120"></canvas>
        <button type="button" class="chart-nav chart-nav-left" id="chartNavLeft" aria-label="Previous range">
            <span aria-hidden="true">←</span>
        </button>
        <button type="button" class="chart-nav chart-nav-right" id="chartNavRight" aria-label="Next range">
            <span aria-hidden="true">→</span>
        </button>
    </div>
</section>
